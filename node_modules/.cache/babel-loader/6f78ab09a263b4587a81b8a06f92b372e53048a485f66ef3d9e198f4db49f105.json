{"ast":null,"code":"import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n// https://666b20787013419182d25edb.mockapi.io/api/prefix/:endpoint\n\naxios.defaults.baseURL = \"https://6672fd0a6ca902ae11b2b1ad.mockapi.io/\";\n\n// https://666b20787013419182d25edb.mockapi.io/api/prefix/:endpoint\n\n// middleware\n\n// export const fetchTasks = () => async (dispatch) => {\n//   try {\n//     dispatch(fetchingTasks());\n\n//     const { data } = await axios.get(\"tasks\");\n\n//     dispatch(fetchingSuccess(data));\n//   } catch (error) {\n//     dispatch(fetchingError(error.message));\n//   }\n// };\n\nexport const fetchTasks = createAsyncThunk(\"tasks/fetchAll\", async (_, thunkAPI) => {\n  try {\n    const {\n      data\n    } = await axios.get(`tasks`);\n    return thunkAPI.fulfillWithValue(data);\n    // return data;\n  } catch (error) {\n    //getState() - отримання потоочного state\n    console.log(thunkAPI.getState());\n    //дозволяє обробити екшен якщо це необхидно\n    console.log(thunkAPI.dispatch());\n    // rejectWithValue - дозволяє викинути помилку\n    return thunkAPI.rejectWithValue(\"Помилка обролена\");\n    // throw new Error(\"Помилка обролена\");\n  }\n});\nexport const deleteTask = createAsyncThunk(\"tasks/delete\", async (id, thunkAPI) => {\n  try {\n    const {\n      data\n    } = await axios.delete(`tasks/${id}`);\n    return data;\n  } catch (error) {\n    return thunkAPI.rejectWithValue(\"Видалення не вдалось\");\n  }\n});\nexport const addTask = createAsyncThunk(\"tasks/add\", async (_, thunkAPI) => {\n  try {\n    const {\n      data\n    } = await axios.post(`tasks`);\n    return data;\n  } catch (error) {\n    return thunkAPI.rejectWithValue(\"Додавання не вдалось не вдалось\");\n  }\n});","map":{"version":3,"names":["createAsyncThunk","axios","defaults","baseURL","fetchTasks","_","thunkAPI","data","get","fulfillWithValue","error","console","log","getState","dispatch","rejectWithValue","deleteTask","id","delete","addTask","post"],"sources":["/Users/artemfaust/dev/reactlessons/src/redux/tasks/operations.js"],"sourcesContent":["import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n// https://666b20787013419182d25edb.mockapi.io/api/prefix/:endpoint\n\naxios.defaults.baseURL = \"https://6672fd0a6ca902ae11b2b1ad.mockapi.io/\";\n\n// https://666b20787013419182d25edb.mockapi.io/api/prefix/:endpoint\n\n// middleware\n\n// export const fetchTasks = () => async (dispatch) => {\n//   try {\n//     dispatch(fetchingTasks());\n\n//     const { data } = await axios.get(\"tasks\");\n\n//     dispatch(fetchingSuccess(data));\n//   } catch (error) {\n//     dispatch(fetchingError(error.message));\n//   }\n// };\n\nexport const fetchTasks = createAsyncThunk(\n  \"tasks/fetchAll\",\n  async (_, thunkAPI) => {\n    try {\n      const { data } = await axios.get(`tasks`);\n      return thunkAPI.fulfillWithValue(data);\n      // return data;\n    } catch (error) {\n      //getState() - отримання потоочного state\n      console.log(thunkAPI.getState());\n      //дозволяє обробити екшен якщо це необхидно\n      console.log(thunkAPI.dispatch());\n      // rejectWithValue - дозволяє викинути помилку\n      return thunkAPI.rejectWithValue(\"Помилка обролена\");\n      // throw new Error(\"Помилка обролена\");\n    }\n  }\n);\n\nexport const deleteTask = createAsyncThunk(\n  \"tasks/delete\",\n  async (id, thunkAPI) => {\n    try {\n      const { data } = await axios.delete(`tasks/${id}`);\n      return data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue(\"Видалення не вдалось\");\n    }\n  }\n);\n\nexport const addTask = createAsyncThunk(\"tasks/add\", async (_, thunkAPI) => {\n  try {\n    const { data } = await axios.post(`tasks`);\n    return data;\n  } catch (error) {\n    return thunkAPI.rejectWithValue(\"Додавання не вдалось не вдалось\");\n  }\n});\n"],"mappings":"AAAA,SAASA,gBAAgB,QAAQ,kBAAkB;AACnD,OAAOC,KAAK,MAAM,OAAO;AACzB;;AAEAA,KAAK,CAACC,QAAQ,CAACC,OAAO,GAAG,8CAA8C;;AAEvE;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAMC,UAAU,GAAGJ,gBAAgB,CACxC,gBAAgB,EAChB,OAAOK,CAAC,EAAEC,QAAQ,KAAK;EACrB,IAAI;IACF,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMN,KAAK,CAACO,GAAG,CAAC,OAAO,CAAC;IACzC,OAAOF,QAAQ,CAACG,gBAAgB,CAACF,IAAI,CAAC;IACtC;EACF,CAAC,CAAC,OAAOG,KAAK,EAAE;IACd;IACAC,OAAO,CAACC,GAAG,CAACN,QAAQ,CAACO,QAAQ,CAAC,CAAC,CAAC;IAChC;IACAF,OAAO,CAACC,GAAG,CAACN,QAAQ,CAACQ,QAAQ,CAAC,CAAC,CAAC;IAChC;IACA,OAAOR,QAAQ,CAACS,eAAe,CAAC,kBAAkB,CAAC;IACnD;EACF;AACF,CACF,CAAC;AAED,OAAO,MAAMC,UAAU,GAAGhB,gBAAgB,CACxC,cAAc,EACd,OAAOiB,EAAE,EAAEX,QAAQ,KAAK;EACtB,IAAI;IACF,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMN,KAAK,CAACiB,MAAM,CAAC,SAASD,EAAE,EAAE,CAAC;IAClD,OAAOV,IAAI;EACb,CAAC,CAAC,OAAOG,KAAK,EAAE;IACd,OAAOJ,QAAQ,CAACS,eAAe,CAAC,sBAAsB,CAAC;EACzD;AACF,CACF,CAAC;AAED,OAAO,MAAMI,OAAO,GAAGnB,gBAAgB,CAAC,WAAW,EAAE,OAAOK,CAAC,EAAEC,QAAQ,KAAK;EAC1E,IAAI;IACF,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMN,KAAK,CAACmB,IAAI,CAAC,OAAO,CAAC;IAC1C,OAAOb,IAAI;EACb,CAAC,CAAC,OAAOG,KAAK,EAAE;IACd,OAAOJ,QAAQ,CAACS,eAAe,CAAC,iCAAiC,CAAC;EACpE;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}